# 📝 智能分句功能使用指南

## 🎯 什么是分句功能？

智能分句功能是英语学习视频播放器的一项创新功能，它能够自动将长字幕按照句子边界分割成更小的片段，让你的影子跟读练习更加精确和高效。

## ✨ 功能特点

### 🔍 智能识别
- 自动识别句子边界（句号、问号、感叹号）
- 智能处理缩写和数字，避免错误分割
- 过滤过短的片段，确保练习质量

### ⏱️ 时间分配
- 根据句子长度自动分配播放时间
- 保持原始字幕的时间范围
- 确保每个句子都有合适的练习时长

### 🎨 视觉体验
- 分句项目有特殊的橙色主题标识
- 左侧显示📝图标，便于区分
- 保持与原始字幕一致的交互体验

## 🚀 如何使用

### 1. 基本操作
1. **加载文件**：首先选择视频文件和字幕文件
2. **开启分句**：点击"📝 分句模式"按钮
3. **开始练习**：字幕列表会自动重新组织为句子

### 2. 模式切换
- **开启分句**：按钮显示为"📝 退出分句"，背景变为橙色
- **关闭分句**：按钮恢复为"📝 分句模式"，背景变为蓝色
- **实时切换**：可以随时在两种模式间切换

### 3. 导航控制
在分句模式下：
- **上一句/下一句**：操作单个句子而不是整段字幕
- **重复播放**：重复当前句子的时间范围
- **点击跳转**：点击任意句子跳转到对应时间

## 📊 信息显示

分句模式开启后，字幕信息会显示：
```
字幕: example.srt (5 条字幕, 12 个句子)
```

这表示原始字幕有5条，分句后产生了12个句子。

## 🎯 最佳实践

### 适合分句的场景
- ✅ 长句子较多的教学视频
- ✅ 新闻播报和演讲内容
- ✅ 对话较长的影视作品
- ✅ 需要精确跟读的学习材料

### 不适合分句的场景
- ❌ 句子本身就很短的内容
- ❌ 音乐视频或歌词
- ❌ 技术术语较多的专业内容

### 练习建议
1. **先听后读**：开启分句模式，先听一遍完整内容
2. **逐句练习**：使用上一句/下一句按钮逐个练习
3. **重点重复**：对难点句子使用重复播放功能
4. **速度调节**：结合播放速度控制，从慢到快练习

## 🔧 技术原理

### 分句算法
```javascript
// 基于标点符号的智能分割
const punctuationRegex = /([.!?]+)/g;
// 过滤过短片段
sentences = sentences.filter(s => s.length >= 3);
```

### 时间分配
```javascript
// 根据句子长度按比例分配时间
const timeRatio = sentenceLength / subtitle.text.length;
const sentenceDuration = duration * timeRatio;
```

## 🐛 常见问题

### Q: 分句后时间不准确怎么办？
A: 分句功能基于文本长度按比例分配时间，可能与实际语音节奏有差异。建议结合手动调节使用。

### Q: 某些句子分割不正确？
A: 算法主要基于标点符号，对于特殊格式（如缩写、数字）可能有误判。可以切换回普通模式使用。

### Q: 分句模式下导航异常？
A: 确保字幕文件格式正确，重新加载字幕文件，或尝试切换模式后再操作。

## 🔮 未来计划

- 🤖 AI驱动的语义分句
- 🎵 基于语音节奏的时间分配
- 📝 用户自定义分句规则
- 🔄 分句结果的手动编辑功能

---

💡 **提示**：分句功能是为了提升影子跟读的练习效果而设计的。根据你的学习需求和内容特点，灵活选择使用普通模式或分句模式。
